"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9136],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>f});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=c(n),m=o,f=u["".concat(l,".").concat(m)]||u[m]||p[m]||r;return n?a.createElement(f,i(i({ref:t},d),{},{components:n})):a.createElement(f,i({ref:t},d))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:o,i[1]=s;for(var c=2;c<r;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3556:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var a=n(7462),o=(n(7294),n(3905));const r={sidebar_position:1},i="General Design",s={unversionedId:"internals/general-design",id:"internals/general-design",title:"General Design",description:"This is a cli python app. User installs it and out of the box has access to a default set of technologies packs.",source:"@site/docs/internals/general-design.md",sourceDirName:"internals",slug:"/internals/general-design",permalink:"/docs/internals/general-design",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/internals/general-design.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Internals",permalink:"/docs/category/internals"},next:{title:"Roadmap",permalink:"/docs/internals/roadmap"}},l={},c=[{value:"Concept of &quot;Source&quot;",id:"concept-of-source",level:2},{value:"Source structure",id:"source-structure",level:2},{value:"Cocmd.yaml file",id:"cocmdyaml-file",level:3},{value:"<code>name</code>",id:"name",level:4},{value:"<code>aliases</code>",id:"aliases",level:4},{value:"<code>paths</code>",id:"paths",level:4},{value:"<code>automations</code>",id:"automations",level:4},{value:"Workflow file",id:"workflow-file",level:3},{value:"<code>description</code>",id:"description",level:4},{value:"<code>env</code>",id:"env",level:4},{value:"<code>steps</code>",id:"steps",level:4},{value:"The Default source",id:"the-default-source",level:2},{value:"Cocmd execution flow",id:"cocmd-execution-flow",level:2}],d={toc:c},u="wrapper";function p(e){let{components:t,...n}=e;return(0,o.kt)(u,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"general-design"},"General Design"),(0,o.kt)("p",null,"This is a cli python app. User installs it and out of the box has access to a default set of technologies packs.\nYou can add sources that contains more aliases, paths and workflows. "),(0,o.kt)("h2",{id:"concept-of-source"},'Concept of "Source"'),(0,o.kt)("p",null,'"Source" is a location to look for packs.\nTo see all sources:'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cocmd sources\n")),(0,o.kt)("p",null,'You can edit the "enabled" sources in this list.\nThis list is kept in ',(0,o.kt)("inlineCode",{parentName:"p"},"~/.cocmd/sources.list"),"\nYou can also edit it manually.\nFor each source, cocmd looks for ",(0,o.kt)("inlineCode",{parentName:"p"},"cocmd.yaml"),". If in the initial setup you configure depth to be >1 cocmd also scans internal folders accordingly.\ncocmd is just keeping inventory of what aliases and scripts to look in this uri. For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"name: docker\naliases: |\n    alias d='docker'\n    alias da='docker attach'\n    alias dr='docker restart'\n    alias dimg='docker images'\n    alias dps='docker ps'\n    alias dvol='docker volume ls'\n    alias dclearimg='docker rmi $(docker images --quiet --filter \"dangling=true\")'\n    alias dclearps='docker ps --filter status=dead --filter status=exited -aq | xargs docker rm -v'\n    alias dclearvol='docker volume rm $(docker volume ls -qf dangling=true)'\n    alias dc='docker-compose'\n    alias dcer='docker-compose exec rails'\n    alias dcerjasmine='docker-compose run --rm -e RAILS_ENV=test -p 8888:3000 rails rails jasmine'\n    alias dcerspec='docker-compose run --rm -e RAILS_ENV=test rails rspec'\npaths:\n    - ./scripts/\n    - ./bin/\nautomations: \n    - command: setup\n      file: ./cocmd.setup.yaml\n")),(0,o.kt)("p",null,"also create yamls for the setup automation ",(0,o.kt)("inlineCode",{parentName:"p"},"./cocmd.setup.yaml"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},'description: setup docker for desktop\nenv: debian\nsteps:\n  - description: This will install docker on your machine\n    runner: shell\n    title: Install docker\n    content: |\n      # Update instance\n      sudo apt update -y\n      sudo apt upgrade -y\n\n      # Install docker\n      sudo apt install apt-transport-https ca-certificates curl software-properties-common -y\n      curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\n      sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu bionic stable"\n      apt-cache policy docker-ce\n      sudo apt install docker-ce -y\n\n      # Automatically start Docker and Containerd on boot for non debian or ubuntu distros.\n      sudo systemctl enable docker\n      sudo systemctl enable containerd.service\n\n      # Add possibility to call docker without sudo\n      sudo usermod -aG docker ${USER}\n\n      # Check is installation successful\n      docker --version\n  - title: Install docker-compose\n    description: This will install docker-compose on your machine\n    runner: shell\n    content: |\n      sudo curl -L "https://github.com/docker/compose/releases/download/1.26.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose\n      sudo chmod +x /usr/local/bin/docker-compose\n      docker-compose version\n')),(0,o.kt)("h2",{id:"source-structure"},"Source structure"),(0,o.kt)("p",null,"A source is a uri. Currently supported is local file system and git.\nIn the location we expect to see a ",(0,o.kt)("inlineCode",{parentName:"p"},"cocmd.yaml")," that contains the information for aliases, paths and workflow. "),(0,o.kt)("h3",{id:"cocmdyaml-file"},"Cocmd.yaml file"),(0,o.kt)("h4",{id:"name"},(0,o.kt)("inlineCode",{parentName:"h4"},"name")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Type:")," String"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Description:")," Specifies the name of the configuration. This could be used to identify the purpose or context of the YAML file.")),(0,o.kt)("h4",{id:"aliases"},(0,o.kt)("inlineCode",{parentName:"h4"},"aliases")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Type:")," Multiline String"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Description:")," Defines a series of command-line aliases. Each alias maps a shorter command to a more complex command, providing shortcuts for frequently used operations.")),(0,o.kt)("h4",{id:"paths"},(0,o.kt)("inlineCode",{parentName:"h4"},"paths")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Type:")," List"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Description:")," Contains the paths to specific directories or files related to the configuration. This could include paths to scripts, binary files, or other resources that are part of the configuration.")),(0,o.kt)("h4",{id:"automations"},(0,o.kt)("inlineCode",{parentName:"h4"},"automations")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Type:")," List of Objects"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Description:")," Specifies automation tasks that can be executed based on the configuration. Each automation object consists of:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"command"),": The command to be executed for the automation."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"file"),": The path to the file that contains the detailed setup or configuration for the command.")))),(0,o.kt)("p",null,"This general YAML structure provides a framework for managing aliases, paths, and automations. It can be adapted to various contexts and needs, enabling users to create shortcuts for common tasks, specify relevant paths, and define automated actions."),(0,o.kt)("h3",{id:"workflow-file"},"Workflow file"),(0,o.kt)("h4",{id:"description"},(0,o.kt)("inlineCode",{parentName:"h4"},"description")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Type:")," String"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Description:")," Provides an overall description of the configuration or purpose of the YAML file. In this example, it explains that the purpose is to set up Docker for desktop.")),(0,o.kt)("h4",{id:"env"},(0,o.kt)("inlineCode",{parentName:"h4"},"env")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Type:")," String"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Description:")," Specifies the environment or context for the configuration. This could refer to an operating system, platform, or other context-specific information.")),(0,o.kt)("h4",{id:"steps"},(0,o.kt)("inlineCode",{parentName:"h4"},"steps")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Type:")," List of Objects"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Description:")," Defines a series of sequential steps or tasks to be performed. Each step object consists of:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"description"),": A brief explanation of what the step accomplishes."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"runner"),": Specifies the type of runner or execution environment for the step (e.g., shell, Python, etc.)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"title"),": A title or name for the step, often used for human-readable identification."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"content"),": A multiline string containing the actual commands or scripts to be executed for the step. This can include shell commands, scripts, or other executable content.")))),(0,o.kt)("p",null,"The given YAML structure serves as a blueprint for automating a series of tasks or steps. It provides a clear and organized way to define what needs to be done, in what order, and how each step should be executed. This can be adapted for various purposes such as software installation, system configuration, workflow automation, and more."),(0,o.kt)("h2",{id:"the-default-source"},"The Default source"),(0,o.kt)("p",null,'Out of the box, upon cocmd installation there is a "default" source configured which contains default technologies for you to add. '),(0,o.kt)("h2",{id:"cocmd-execution-flow"},"Cocmd execution flow"),(0,o.kt)("p",null,"Assuming cocmd is setup and configured.\nUpon finishing a command that should change any of the sources content\nlike"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"adding a new source"),(0,o.kt)("li",{parentName:"ul"},"cocmd setup"),(0,o.kt)("li",{parentName:"ul"},"running ",(0,o.kt)("inlineCode",{parentName:"li"},"cocmd refresh"),"\ncocmd scans the sources again and updates your rc file for the shell you configured.\nWhat is added to the shell rc file?")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'eval "$(cocmd profile-loader)"\n')),(0,o.kt)("p",null,"this addes aliases, automations and paths to the environment."))}p.isMDXComponent=!0}}]);